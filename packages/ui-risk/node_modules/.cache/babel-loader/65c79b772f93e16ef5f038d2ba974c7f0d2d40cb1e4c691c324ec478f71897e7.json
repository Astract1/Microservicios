{"ast":null,"code":"// src/pages/RiskEvaluation.js\nimport React,{useState}from'react';import{evaluateRisk}from'../services/riskService';import'../styles/RiskEvaluation.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RiskEvaluation=()=>{const[formData,setFormData]=useState({location:'',userData:{age:'',medicalConditions:[]}});const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);setResult(null);try{const response=await evaluateRisk({userData:{age:parseInt(formData.userData.age),medicalConditions:formData.userData.medicalConditions},location:formData.location});setResult(response);}catch(err){console.error('Error submitting form:',err);setError(err.message||'Error al evaluar el riesgo');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"risk-evaluation\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Evaluando riesgo...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"risk-evaluation\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Nueva Evaluaci\\xF3n de Riesgo\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Ubicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{id:\"location\",type:\"text\",value:formData.location,onChange:e=>setFormData({...formData,location:e.target.value}),placeholder:\"Ingrese una ubicaci\\xF3n\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",children:\"Edad\"}),/*#__PURE__*/_jsx(\"input\",{id:\"age\",type:\"number\",value:formData.userData.age,onChange:e=>setFormData({...formData,userData:{...formData.userData,age:e.target.value}}),placeholder:\"Ingrese la edad\",required:true,min:\"0\",max:\"120\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"medicalConditions\",children:\"Condiciones M\\xE9dicas\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"medicalConditions\",multiple:true,value:formData.userData.medicalConditions,onChange:e=>setFormData({...formData,userData:{...formData.userData,medicalConditions:Array.from(e.target.selectedOptions,option=>option.value)}}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"asthma\",children:\"Asma\"}),/*#__PURE__*/_jsx(\"option\",{value:\"heart\",children:\"Problemas Card\\xEDacos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"respiratory\",children:\"Problemas Respiratorios\"}),/*#__PURE__*/_jsx(\"option\",{value:\"allergies\",children:\"Alergias\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"help-text\",children:\"Mantenga presionada la tecla Ctrl (Cmd en Mac) para seleccionar m\\xFAltiples opciones\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Evaluando...':'Evaluar Riesgo'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(\"p\",{children:error})}),result&&/*#__PURE__*/_jsxs(\"div\",{className:`risk-result risk-${result.riskLevel.toLowerCase()}`,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resultado de la Evaluaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"risk-level\",children:[\"Nivel de Riesgo: \",result.riskLevel]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Factores de Riesgo:\"}),/*#__PURE__*/_jsx(\"ul\",{children:result.riskFactors.map((factor,index)=>/*#__PURE__*/_jsx(\"li\",{children:factor},index))}),/*#__PURE__*/_jsx(\"h4\",{children:\"Recomendaciones:\"}),/*#__PURE__*/_jsx(\"ul\",{children:result.recommendations.map((rec,index)=>/*#__PURE__*/_jsx(\"li\",{children:rec},index))})]})]});};export default RiskEvaluation;","map":{"version":3,"names":["React","useState","evaluateRisk","jsx","_jsx","jsxs","_jsxs","RiskEvaluation","formData","setFormData","location","userData","age","medicalConditions","result","setResult","loading","setLoading","error","setError","handleSubmit","e","preventDefault","response","parseInt","err","console","message","className","children","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","min","max","multiple","Array","from","selectedOptions","option","disabled","riskLevel","toLowerCase","riskFactors","map","factor","index","recommendations","rec"],"sources":["C:/Users/IRR/Desktop/Microservicios/packages/ui-risk/src/components/RiskEvaluation.js"],"sourcesContent":["// src/pages/RiskEvaluation.js\nimport React, { useState } from 'react';\nimport { evaluateRisk } from '../services/riskService';\nimport '../styles/RiskEvaluation.css';\n\nconst RiskEvaluation = () => {\n  const [formData, setFormData] = useState({\n    location: '',\n    userData: {\n      age: '',\n      medicalConditions: []\n    }\n  });\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const response = await evaluateRisk({\n        userData: {\n          age: parseInt(formData.userData.age),\n          medicalConditions: formData.userData.medicalConditions\n        },\n        location: formData.location\n      });\n      setResult(response);\n    } catch (err) {\n      console.error('Error submitting form:', err);\n      setError(err.message || 'Error al evaluar el riesgo');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"risk-evaluation\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Evaluando riesgo...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"risk-evaluation\">\n      <h2>Nueva Evaluación de Riesgo</h2>\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"location\">Ubicación</label>\n          <input\n            id=\"location\"\n            type=\"text\"\n            value={formData.location}\n            onChange={(e) => setFormData({\n              ...formData,\n              location: e.target.value\n            })}\n            placeholder=\"Ingrese una ubicación\"\n            required\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"age\">Edad</label>\n          <input\n            id=\"age\"\n            type=\"number\"\n            value={formData.userData.age}\n            onChange={(e) => setFormData({\n              ...formData,\n              userData: {\n                ...formData.userData,\n                age: e.target.value\n              }\n            })}\n            placeholder=\"Ingrese la edad\"\n            required\n            min=\"0\"\n            max=\"120\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"medicalConditions\">Condiciones Médicas</label>\n          <select\n            id=\"medicalConditions\"\n            multiple\n            value={formData.userData.medicalConditions}\n            onChange={(e) => setFormData({\n              ...formData,\n              userData: {\n                ...formData.userData,\n                medicalConditions: Array.from(\n                  e.target.selectedOptions,\n                  option => option.value\n                )\n              }\n            })}\n          >\n            <option value=\"asthma\">Asma</option>\n            <option value=\"heart\">Problemas Cardíacos</option>\n            <option value=\"respiratory\">Problemas Respiratorios</option>\n            <option value=\"allergies\">Alergias</option>\n          </select>\n          <p className=\"help-text\">Mantenga presionada la tecla Ctrl (Cmd en Mac) para seleccionar múltiples opciones</p>\n        </div>\n\n        <button type=\"submit\" disabled={loading}>\n          {loading ? 'Evaluando...' : 'Evaluar Riesgo'}\n        </button>\n      </form>\n\n      {error && (\n        <div className=\"error-message\">\n          <p>{error}</p>\n        </div>\n      )}\n\n      {result && (\n        <div className={`risk-result risk-${result.riskLevel.toLowerCase()}`}>\n          <h3>Resultado de la Evaluación</h3>\n          <p className=\"risk-level\">Nivel de Riesgo: {result.riskLevel}</p>\n          \n          <h4>Factores de Riesgo:</h4>\n          <ul>\n            {result.riskFactors.map((factor, index) => (\n              <li key={index}>{factor}</li>\n            ))}\n          </ul>\n\n          <h4>Recomendaciones:</h4>\n          <ul>\n            {result.recommendations.map((rec, index) => (\n              <li key={index}>{rec}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RiskEvaluation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}