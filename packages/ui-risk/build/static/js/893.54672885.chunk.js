"use strict";(self.webpackChunkui_risk=self.webpackChunkui_risk||[]).push([[893],{893:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var i=s(176),l=s(620);const r="/risk-api";var n=s(812);const o=()=>{const[e,a]=(0,i.useState)({location:"",userData:{age:"",medicalConditions:[]}}),[s,o]=(0,i.useState)(null),[t,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null);return t?(0,n.jsx)("div",{className:"risk-evaluation",children:(0,n.jsxs)("div",{className:"loading-container",children:[(0,n.jsx)("div",{className:"loading-spinner"}),(0,n.jsx)("p",{children:"Evaluando riesgo..."})]})}):(0,n.jsxs)("div",{className:"risk-evaluation",children:[(0,n.jsx)("h2",{children:"Nueva Evaluaci\xf3n de Riesgo"}),(0,n.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),c(!0),u(null),o(null);try{const a=await(async e=>{try{return(await l.A.post(`${r}/evaluate`,e)).data}catch(d){throw console.error("Error en evaluaci\xf3n de riesgo:",d),d}})({userData:{age:parseInt(e.userData.age),medicalConditions:e.userData.medicalConditions},location:e.location});o(a)}catch(s){console.error("Error submitting form:",s),u(s.message||"Error al evaluar el riesgo")}finally{c(!1)}},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"location",children:"Ubicaci\xf3n"}),(0,n.jsx)("input",{id:"location",type:"text",value:e.location,onChange:s=>a({...e,location:s.target.value}),placeholder:"Ingrese una ubicaci\xf3n",required:!0})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"age",children:"Edad"}),(0,n.jsx)("input",{id:"age",type:"number",value:e.userData.age,onChange:s=>a({...e,userData:{...e.userData,age:s.target.value}}),placeholder:"Ingrese la edad",required:!0,min:"0",max:"120"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"medicalConditions",children:"Condiciones M\xe9dicas"}),(0,n.jsxs)("select",{id:"medicalConditions",multiple:!0,value:e.userData.medicalConditions,onChange:s=>a({...e,userData:{...e.userData,medicalConditions:Array.from(s.target.selectedOptions,(e=>e.value))}}),children:[(0,n.jsx)("option",{value:"asthma",children:"Asma"}),(0,n.jsx)("option",{value:"heart",children:"Problemas Card\xedacos"}),(0,n.jsx)("option",{value:"respiratory",children:"Problemas Respiratorios"}),(0,n.jsx)("option",{value:"allergies",children:"Alergias"})]}),(0,n.jsx)("p",{className:"help-text",children:"Mantenga presionada la tecla Ctrl (Cmd en Mac) para seleccionar m\xfaltiples opciones"})]}),(0,n.jsx)("button",{type:"submit",disabled:t,children:t?"Evaluando...":"Evaluar Riesgo"})]}),d&&(0,n.jsx)("div",{className:"error-message",children:(0,n.jsx)("p",{children:d})}),s&&(0,n.jsxs)("div",{className:`risk-result risk-${s.riskLevel.toLowerCase()}`,children:[(0,n.jsx)("h3",{children:"Resultado de la Evaluaci\xf3n"}),(0,n.jsxs)("p",{className:"risk-level",children:["Nivel de Riesgo: ",s.riskLevel]}),(0,n.jsx)("h4",{children:"Factores de Riesgo:"}),(0,n.jsx)("ul",{children:s.riskFactors.map(((e,a)=>(0,n.jsx)("li",{children:e},a)))}),(0,n.jsx)("h4",{children:"Recomendaciones:"}),(0,n.jsx)("ul",{children:s.recommendations.map(((e,a)=>(0,n.jsx)("li",{children:e},a)))})]})]})}}}]);
//# sourceMappingURL=893.54672885.chunk.js.map