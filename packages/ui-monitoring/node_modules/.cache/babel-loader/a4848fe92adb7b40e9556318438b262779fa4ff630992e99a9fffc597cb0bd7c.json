{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Dashboard.css';// Componentes\nimport WeatherWidget from'../components/widgets/WeatherWidget';import AirQualityWidget from'../components/widgets/AirQualityWidget';import AlertsWidget from'../components/widgets/AlertsWidget';import StatisticsWidget from'../components/widgets/StatisticsWidget';// Servicios\nimport{fetchDashboardData}from'../services/monitoringService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[dashboardData,setDashboardData]=useState({weather:null,airQuality:null,alerts:[],statistics:{}});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const loadDashboardData=async()=>{try{setLoading(true);const data=await fetchDashboardData();setDashboardData(data);setError(null);}catch(err){console.error('Error al cargar datos del dashboard:',err);setError('Error al cargar los datos. Por favor, intente nuevamente.');}finally{setLoading(false);}};loadDashboardData();// Actualizar cada 5 minutos\nconst intervalId=setInterval(loadDashboardData,5*60*1000);return()=>clearInterval(intervalId);},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:\"Cargando datos del sistema de monitoreo...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-container\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Panel de Control - Sistema de Monitoreo Ambiental\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card good\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Estado General\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xD3ptimo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sensores Activos\"}),/*#__PURE__*/_jsx(\"p\",{children:\"24/26\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Alertas Activas\"}),/*#__PURE__*/_jsx(\"p\",{children:dashboardData.alerts.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\xDAltima Actualizaci\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date().toLocaleTimeString()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-grid\",children:[/*#__PURE__*/_jsx(WeatherWidget,{data:dashboardData.weather}),/*#__PURE__*/_jsx(AirQualityWidget,{data:dashboardData.airQuality}),/*#__PURE__*/_jsx(AlertsWidget,{alerts:dashboardData.alerts}),/*#__PURE__*/_jsx(StatisticsWidget,{statistics:dashboardData.statistics})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","WeatherWidget","AirQualityWidget","AlertsWidget","StatisticsWidget","fetchDashboardData","jsx","_jsx","jsxs","_jsxs","Dashboard","dashboardData","setDashboardData","weather","airQuality","alerts","statistics","loading","setLoading","error","setError","loadDashboardData","data","err","console","intervalId","setInterval","clearInterval","className","children","length","Date","toLocaleTimeString"],"sources":["C:/Users/Juan Jimenez/Desktop/Microservicios/packages/ui-monitoring/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Dashboard.css';\r\n\r\n// Componentes\r\nimport WeatherWidget from '../components/widgets/WeatherWidget';\r\nimport AirQualityWidget from '../components/widgets/AirQualityWidget';\r\nimport AlertsWidget from '../components/widgets/AlertsWidget';\r\nimport StatisticsWidget from '../components/widgets/StatisticsWidget';\r\n\r\n// Servicios\r\nimport { fetchDashboardData } from '../services/monitoringService';\r\n\r\nconst Dashboard = () => {\r\n  const [dashboardData, setDashboardData] = useState({\r\n    weather: null,\r\n    airQuality: null,\r\n    alerts: [],\r\n    statistics: {}\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadDashboardData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await fetchDashboardData();\r\n        setDashboardData(data);\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('Error al cargar datos del dashboard:', err);\r\n        setError('Error al cargar los datos. Por favor, intente nuevamente.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadDashboardData();\r\n\r\n    // Actualizar cada 5 minutos\r\n    const intervalId = setInterval(loadDashboardData, 5 * 60 * 1000);\r\n    \r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div className=\"loading-container\">Cargando datos del sistema de monitoreo...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-container\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1>Panel de Control - Sistema de Monitoreo Ambiental</h1>\r\n      \r\n      <div className=\"dashboard-summary\">\r\n        <div className=\"summary-card good\">\r\n          <h3>Estado General</h3>\r\n          <p>Óptimo</p>\r\n        </div>\r\n        <div className=\"summary-card\">\r\n          <h3>Sensores Activos</h3>\r\n          <p>24/26</p>\r\n        </div>\r\n        <div className=\"summary-card\">\r\n          <h3>Alertas Activas</h3>\r\n          <p>{dashboardData.alerts.length}</p>\r\n        </div>\r\n        <div className=\"summary-card\">\r\n          <h3>Última Actualización</h3>\r\n          <p>{new Date().toLocaleTimeString()}</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-grid\">\r\n        <WeatherWidget data={dashboardData.weather} />\r\n        <AirQualityWidget data={dashboardData.airQuality} />\r\n        <AlertsWidget alerts={dashboardData.alerts} />\r\n        <StatisticsWidget statistics={dashboardData.statistics} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}